<!DOCTYPE html>
<head>
    <meta charset=utf-8>
    <meta http-equiv=X-UA-Compatible content="IE=edge">
    <meta name=viewport content="width=device-width,initial-scale=1">
    <link rel=icon href=/favicon.ico> <title>DSMR Logger - Local Development</title>
    <link href="https://fonts.googleapis.com/css?family=Dosis:400,700" rel="stylesheet">
    <link href="3phase.css" rel="stylesheet">

    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/highcharts-more.js"></script>
    <script src="https://code.highcharts.com/modules/solid-gauge.js"></script>
    
    <style>
        .dev-banner {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 10px;
            text-align: center;
            font-size: 14px;
            margin-bottom: 10px;
        }
        .dev-banner code {
            background: rgba(255,255,255,0.2);
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
  
<body><noscript><strong>Please enable JavaScript to continue.</strong></noscript>
    <div class="dev-banner">
        ðŸ”§ <strong>Local Development Mode</strong> - Proxying to DSMR Backend via <code>localhost:3000</code>
    </div>
    
    <div class=outer>
        <div class=card id=l1>
            <h1 id=power_delivered_l1h>Phase 1</h1>
	        <div class="chart-container" id="container-1">I</div>
            <hr/>
            <div style="text-align:center">Kilowatt</div>
            <h2 id="power_delivered_l1">0.0</h2>
            <h3>max: <span id="power_delivered_1max">0.0</span></h3>
            <h3>min: <span id="power_delivered_1min">0.0</span></h3>
        </div>
        <div class=card id=l2>
            <h1 id=power_delivered_l2h>Phase 2</h1>
            <div class="chart-container" id="container-2">II</div>
            <hr/>
            <div style="text-align:center">Kilowatt</div>
            <h2 id=power_delivered_l2>0.0</h2>
            <h3>max: <span id="power_delivered_2max">0.0</span></h3>
            <h3>min: <span id="power_delivered_2min">0.0</span></h3>
        </div>
        <div class=card id=l3>
            <h1 id=power_delivered_l3h>Phase 3</h1>
            <div class="chart-container" id="container-3">III</div>
            <hr/>
            <div style="text-align:center">Kilowatt</div>
            <h2 id=power_delivered_l3>0.0</h2>
            <h3>max: <span id="power_delivered_3max">0.0</span></h3>
            <h3>min: <span id="power_delivered_3min">0.0</span></h3>
        </div>
        <div class=card id=l4>
            <h1 id=power_delivered_th>Total</h1>
            <div class="chart-container" id="container-t">IV</div>
            <hr/>
            <div style="text-align:center">Kilowatt</div>
            <h2 id="power_delivered_t">0.0</h2>
            <h3>max: <span id="power_delivered_tmax">0.0</span></h3>
            <h3>min: <span id="power_delivered_tmin">0.0</span></h3>
        </div>
    </div>    
    <script src="3phase-local.js"></script>
    <script>
        update() // fill first-time data
        var timer = setInterval(update, 2 * 1000) // update every 2 seconds
    </script>
</body> 
</html>
